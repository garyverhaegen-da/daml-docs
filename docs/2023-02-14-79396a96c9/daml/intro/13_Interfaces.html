<!-- Copyright (c) 2023 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Daml Interfaces &mdash; Daml SDK 0.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
  
  <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
  <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
  <script src="../../_static/jquery.js"></script>
  <script src="../../_static/underscore.js"></script>
  <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
  <script src="../../_static/doctools.js"></script>
  <script src="../../_static/clipboard.min.js"></script>
  <script src="../../_static/copybutton.js"></script>
  
  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="next" title="Transform Data Using Choices" href="4_Transformations.html" />
  <link rel="prev" title="An Introduction to Daml" href="0_Intro.html" /> 

  
  <link rel="icon" type="image/svg+xml"  href="../../_static/images/daml-logo-mark-light.svg">
  <link rel="alternate icon" href="../../_static/images/daml-favicon-1.ico">

  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MSWJMNX');</script>
  <!-- End Google Tag Manager -->

</head>

<body class="wy-body-for-nav">
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MSWJMNX"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-nav-side-shadow"></div>
      <div class="wy-side-scroll">

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
          
          
          
          
          
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Daml Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/app-arch.html"> app-dev/app-arch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-ts/index.html"> app-dev/bindings-ts/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-ts/daml2js.html">Use the JavaScript Code Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-ts/daml-react.html">&#64;daml/react</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-ts/daml-ledger.html">&#64;daml/ledger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-ts/daml-types.html">&#64;daml/types</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-ts/daml-react.html"> app-dev/bindings-ts/daml-react</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-ts/daml-types.html"> app-dev/bindings-ts/daml-types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-ts/daml-ledger.html"> app-dev/bindings-ts/daml-ledger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-ts/daml2js.html"> app-dev/bindings-ts/daml2js</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/parties-users.html"> app-dev/parties-users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/grpc/index.html"> app-dev/grpc/index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/grpc/error-codes.html"> app-dev/grpc/error-codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/grpc/proto-docs.html"> app-dev/grpc/proto-docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/grpc/daml-to-ledger-api.html"> app-dev/grpc/daml-to-ledger-api</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/services.html"> app-dev/services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-x-lang/index.html"> app-dev/bindings-x-lang/index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/daml-lf-translation.html"> app-dev/daml-lf-translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-python.html"> app-dev/bindings-python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/command-deduplication.html"> app-dev/command-deduplication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/ledger-api.html"> app-dev/ledger-api</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/services.html">The Ledger API Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/parties-users.html">Parties and Users On a Daml Ledger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/grpc/index.html">Use the Ledger API With gRPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/grpc/error-codes.html">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/grpc/proto-docs.html">Ledger API Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/grpc/daml-to-ledger-api.html">How Daml Types are Translated to Protobuf</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/daml-lf-translation.html">How Daml Types are Translated to Daml-LF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-x-lang/index.html">Create Your Own Bindings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/custom-views/index.html"> app-dev/custom-views/index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/authorization.html"> app-dev/authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-java/index.html"> app-dev/bindings-java/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-java/codegen.html">Generate Java Code from Daml</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-java/example.html">Ping Pong Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-java/quickstart.html">Iou Quickstart Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-java/codegen.html"> app-dev/bindings-java/codegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-java/quickstart.html"> app-dev/bindings-java/quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app-dev/bindings-java/example.html"> app-dev/bindings-java/example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/index.html"> json-api/index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/lf-value-specification.html"> json-api/lf-value-specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/search-query-language.html"> json-api/search-query-language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/production-setup/security-and-privacy.html"> json-api/production-setup/security-and-privacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/production-setup/scaling-and-redundancy.html"> json-api/production-setup/scaling-and-redundancy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/production-setup/metrics.html"> json-api/production-setup/metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/production-setup/query-store.html"> json-api/production-setup/query-store</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/production-setup/logging.html"> json-api/production-setup/logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/production-setup/architecture.html"> json-api/production-setup/architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../json-api/production-setup.html"> json-api/production-setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrade/index.html"> upgrade/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/extend.html">Extending Daml Applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/upgrade.html">Upgrading Daml Applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/automation.html">Automating the Upgrade Process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrade/extend.html"> upgrade/extend</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrade/upgrade.html"> upgrade/upgrade</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../upgrade/automation.html"> upgrade/automation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/auth-middleware/index.html"> tools/auth-middleware/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/auth-middleware/oauth2.html">OAuth 2.0 Auth Middleware</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/auth-middleware/oauth2.html"> tools/auth-middleware/oauth2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/canton-console.html"> tools/canton-console</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/trigger-service/index.html"> tools/trigger-service/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tools/trigger-service/authorization.html">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/trigger-service/auth0_example.html">Auth0 Example Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/trigger-service/auth0_example.html"> tools/trigger-service/auth0_example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/trigger-service/authorization.html"> tools/trigger-service/authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/assistant.html"> tools/assistant</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/codegen.html"> tools/codegen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/non-repudiation.html"> tools/non-repudiation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/visual.html"> tools/visual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/navigator/index.html"> tools/navigator/index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/sandbox.html"> tools/sandbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/profiler.html"> tools/profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/export/index.html"> tools/export/index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-off-ledger.html"> daml-off-ledger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../triggers/index.html"> triggers/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../triggers/api/index.html">Daml Trigger Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../triggers/api/Daml-Trigger.html">Daml.Trigger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../triggers/api/Daml-Trigger-Assert.html">Daml.Trigger.Assert</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../triggers/api/Daml-Trigger-LowLevel.html">Daml.Trigger.LowLevel</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../triggers/api/index.html"> triggers/api/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../triggers/api/Daml-Trigger.html">Daml.Trigger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../triggers/api/Daml-Trigger-Assert.html">Daml.Trigger.Assert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../triggers/api/Daml-Trigger-LowLevel.html">Daml.Trigger.LowLevel</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../triggers/api/Daml-Trigger-LowLevel.html"> triggers/api/Daml-Trigger-LowLevel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../triggers/api/Daml-Trigger-Assert.html"> triggers/api/Daml-Trigger-Assert</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../triggers/api/Daml-Trigger.html"> triggers/api/Daml-Trigger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deploy/generic_ledger.html"> deploy/generic_ledger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-repl/index.html"> daml-repl/index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../considerations.html"> daml/considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../daml-studio.html"> daml/daml-studio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns/locking.html"> daml/patterns/locking</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../patterns/locking/locking-by-archiving.html">Lock by Archiving</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/locking/locking-by-state.html">Lock by State</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/locking/locking-by-safekeeping.html">Lock by Safekeeping</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../patterns/initaccept.html"> daml/patterns/initaccept</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns/multiparty-agreement.html"> daml/patterns/multiparty-agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns/locking/locking-by-safekeeping.html"> daml/patterns/locking/locking-by-safekeeping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns/locking/locking-by-state.html"> daml/patterns/locking/locking-by-state</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns/locking/locking-by-archiving.html"> daml/patterns/locking/locking-by-archiving</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns/legends.html"> daml/patterns/legends</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns/delegation.html"> daml/patterns/delegation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns/authorization.html"> daml/patterns/authorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_Data.html"> daml/intro/3_Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="8_Exceptions.html"> daml/intro/8_Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="12_Testing.html"> daml/intro/12_Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="5_Restrictions.html"> daml/intro/5_Restrictions</a></li>
<li class="toctree-l1"><a class="reference internal" href="6_Parties.html"> daml/intro/6_Parties</a></li>
<li class="toctree-l1"><a class="reference internal" href="99_NextSteps.html"> daml/intro/99_NextSteps</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_DamlScript.html"> daml/intro/2_DamlScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="10_Functional101.html"> daml/intro/10_Functional101</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_Token.html"> daml/intro/1_Token</a></li>
<li class="toctree-l1"><a class="reference internal" href="0_Intro.html"> daml/intro/0_Intro</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"> daml/intro/13_Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_Transformations.html"> daml/intro/4_Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="7_Composing.html"> daml/intro/7_Composing</a></li>
<li class="toctree-l1"><a class="reference internal" href="9_Dependencies.html"> daml/intro/9_Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="11_StdLib.html"> daml/intro/11_StdLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns.html"> daml/patterns</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../patterns/initaccept.html">The Initiate and Accept Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/multiparty-agreement.html">The Multiple Party Agreement Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/delegation.html">The Delegation Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/authorization.html">The Authorization Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/locking.html">The Locking Pattern</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../patterns/locking/locking-by-archiving.html">Lock by Archiving</a></li>
<li class="toctree-l3"><a class="reference internal" href="../patterns/locking/locking-by-state.html">Lock by State</a></li>
<li class="toctree-l3"><a class="reference internal" href="../patterns/locking/locking-by-safekeeping.html">Lock by Safekeeping</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../patterns/legends.html">Diagram Legends</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Numeric.html"> daml/stdlib/DA-Numeric</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/index.html"> daml/stdlib/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/Prelude.html">Prelude</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Action.html">DA.Action</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Action-State.html">DA.Action.State</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Action-State-Class.html">DA.Action.State.Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Assert.html">DA.Assert</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Bifunctor.html">DA.Bifunctor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-BigNumeric.html">DA.BigNumeric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Date.html">DA.Date</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Either.html">DA.Either</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Exception.html">DA.Exception</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Foldable.html">DA.Foldable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Functor.html">DA.Functor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Internal-Interface-AnyView.html">DA.Internal.Interface.AnyView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Internal-Interface-AnyView-Types.html">DA.Internal.Interface.AnyView.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-List.html">DA.List</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-List-BuiltinOrder.html">DA.List.BuiltinOrder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-List-Total.html">DA.List.Total</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Logic.html">DA.Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Map.html">DA.Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Math.html">DA.Math</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Monoid.html">DA.Monoid</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-NonEmpty.html">DA.NonEmpty</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-NonEmpty-Types.html">DA.NonEmpty.Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Numeric.html">DA.Numeric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Optional.html">DA.Optional</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Record.html">DA.Record</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Semigroup.html">DA.Semigroup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Set.html">DA.Set</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Stack.html">DA.Stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Text.html">DA.Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-TextMap.html">DA.TextMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Time.html">DA.Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Traversable.html">DA.Traversable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Tuple.html">DA.Tuple</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/DA-Validation.html">DA.Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/GHC-Show-Text.html">GHC.Show.Text</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stdlib/GHC-Tuple-Check.html">GHC.Tuple.Check</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Internal-Interface-AnyView.html"> daml/stdlib/DA-Internal-Interface-AnyView</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Action.html"> daml/stdlib/DA-Action</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Monoid.html"> daml/stdlib/DA-Monoid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Foldable.html"> daml/stdlib/DA-Foldable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-TextMap.html"> daml/stdlib/DA-TextMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Tuple.html"> daml/stdlib/DA-Tuple</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Record.html"> daml/stdlib/DA-Record</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Internal-Interface-AnyView-Types.html"> daml/stdlib/DA-Internal-Interface-AnyView-Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-List.html"> daml/stdlib/DA-List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-List-Total.html"> daml/stdlib/DA-List-Total</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Either.html"> daml/stdlib/DA-Either</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Traversable.html"> daml/stdlib/DA-Traversable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Optional.html"> daml/stdlib/DA-Optional</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Map.html"> daml/stdlib/DA-Map</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-NonEmpty-Types.html"> daml/stdlib/DA-NonEmpty-Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Time.html"> daml/stdlib/DA-Time</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Bifunctor.html"> daml/stdlib/DA-Bifunctor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/Prelude.html"> daml/stdlib/Prelude</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Set.html"> daml/stdlib/DA-Set</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Semigroup.html"> daml/stdlib/DA-Semigroup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Assert.html"> daml/stdlib/DA-Assert</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Functor.html"> daml/stdlib/DA-Functor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Text.html"> daml/stdlib/DA-Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Logic.html"> daml/stdlib/DA-Logic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/GHC-Show-Text.html"> daml/stdlib/GHC-Show-Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Date.html"> daml/stdlib/DA-Date</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Action-State-Class.html"> daml/stdlib/DA-Action-State-Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-NonEmpty.html"> daml/stdlib/DA-NonEmpty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Math.html"> daml/stdlib/DA-Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-List-BuiltinOrder.html"> daml/stdlib/DA-List-BuiltinOrder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Stack.html"> daml/stdlib/DA-Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Action-State.html"> daml/stdlib/DA-Action-State</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Validation.html"> daml/stdlib/DA-Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-BigNumeric.html"> daml/stdlib/DA-BigNumeric</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/GHC-Tuple-Check.html"> daml/stdlib/GHC-Tuple-Check</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/DA-Exception.html"> daml/stdlib/DA-Exception</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html"> daml/troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource-management/latency-and-throughput.html"> daml/resource-management/latency-and-throughput</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource-management/index.html"> daml/resource-management/index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource-management/active-contract-set.html"> daml/resource-management/active-contract-set</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/templates.html"> daml/reference/templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html"> daml/reference/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/structure.html">Overview: Template Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/templates.html">Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/choices.html">Choices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/updates.html">Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/data-types.html">Data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/working-with.html">Built-in functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/expressions.html">Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/file-structure.html">File structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/packages.html">Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/contract-keys.html">Contract keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/exceptions.html">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/interfaces.html">Interfaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/working-with.html"> daml/reference/working-with</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/functions.html"> daml/reference/functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/data-types.html"> daml/reference/data-types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/choices.html"> daml/reference/choices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/packages.html"> daml/reference/packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/expressions.html"> daml/reference/expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/structure.html"> daml/reference/structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/contract-keys.html"> daml/reference/contract-keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/file-structure.html"> daml/reference/file-structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/updates.html"> daml/reference/updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/exceptions.html"> daml/reference/exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/interfaces.html"> daml/reference/interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html"> getting-started/index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/testing.html"> getting-started/testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/path-variables.html"> getting-started/path-variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/manual-download.html"> getting-started/manual-download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/app-architecture.html"> getting-started/app-architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/first-feature.html"> getting-started/first-feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/installation.html"> getting-started/installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/support.html"> support/support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/status-definitions.html"> support/status-definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/overview.html"> support/overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../support/status-definitions.html">Status Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../support/component-statuses.html">Feature and Component Statuses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../support/releases.html"> support/releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/compatibility.html"> support/compatibility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../support/component-statuses.html"> support/component-statuses</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/time.html"> concepts/time</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/ledger-model/index.html"> concepts/ledger-model/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-structure.html">Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-integrity.html">Integrity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-privacy.html">Privacy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-daml.html">Daml: Define Contract Models Compactly</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../concepts/ledger-model/ledger-exceptions.html">Exceptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/ledger-model/ledger-privacy.html"> concepts/ledger-model/ledger-privacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/ledger-model/ledger-structure.html"> concepts/ledger-model/ledger-structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/ledger-model/ledger-integrity.html"> concepts/ledger-model/ledger-integrity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/ledger-model/ledger-daml.html"> concepts/ledger-model/ledger-daml</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/ledger-model/ledger-exceptions.html"> concepts/ledger-model/ledger-exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/interoperability.html"> concepts/interoperability</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/test-evidence.html"> concepts/test-evidence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/identity-and-package-management.html"> concepts/identity-and-package-management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/glossary.html"> concepts/glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts/local-ledger.html"> concepts/local-ledger</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ops/system_architecture_faq.html"> ops/system_architecture_faq</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ops/requirements.html"> ops/requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ops/pruning.html"> ops/pruning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ops/common-metrics.html"> ops/common-metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ops/metering.html"> ops/metering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-script/index.html"> daml-script/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../daml-script/api/index.html">Daml Script Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../daml-script/api/Daml-Script.html">Daml.Script</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-script/api/index.html"> daml-script/api/index</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../daml-script/api/Daml-Script.html">Daml.Script</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../daml-script/api/Daml-Script.html"> daml-script/api/Daml-Script</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../building-applications.html"> building-applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/app-arch.html">Daml Application Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-ts/index.html">Using JavaScript Client Libraries with Daml</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/bindings-ts/daml2js.html">Use the JavaScript Code Generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/bindings-ts/daml-react.html">&#64;daml/react</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/bindings-ts/daml-ledger.html">&#64;daml/ledger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/bindings-ts/daml-types.html">&#64;daml/types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../json-api/index.html">HTTP JSON API Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-java/index.html">Java Bindings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/bindings-java/codegen.html">Generate Java Code from Daml</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/bindings-java/example.html">Ping Pong Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/bindings-java/quickstart.html">Iou Quickstart Tutorial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/bindings-python.html">Python Bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daml-script/index.html">Daml Script</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../daml-script/api/index.html">Daml Script Library</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../daml-script/api/Daml-Script.html">Daml.Script</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../daml-repl/index.html">Daml REPL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../upgrade/index.html">Upgrading and Extending Daml Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../upgrade/extend.html">Extending Daml Applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../upgrade/upgrade.html">Upgrading Daml Applications</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../upgrade/automation.html">Automating the Upgrade Process</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/authorization.html">Authorization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/ledger-api.html">The Ledger API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/services.html">The Ledger API Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/parties-users.html">Parties and Users On a Daml Ledger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/grpc/index.html">Use the Ledger API With gRPC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/grpc/error-codes.html">Error Codes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/grpc/proto-docs.html">Ledger API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/grpc/daml-to-ledger-api.html">How Daml Types are Translated to Protobuf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/daml-lf-translation.html">How Daml Types are Translated to Daml-LF</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../app-dev/bindings-x-lang/index.html">Create Your Own Bindings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../app-dev/command-deduplication.html">Command Deduplication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../triggers/index.html">Daml Triggers - Off-Ledger Automation in Daml</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../triggers/api/index.html">Daml Trigger Library</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../triggers/api/Daml-Trigger.html">Daml.Trigger</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../triggers/api/Daml-Trigger-Assert.html">Daml.Trigger.Assert</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../triggers/api/Daml-Trigger-LowLevel.html">Daml.Trigger.LowLevel</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/trigger-service/index.html">Trigger Service</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools/trigger-service/authorization.html">Authorization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../tools/trigger-service/auth0_example.html">Auth0 Example Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../tools/auth-middleware/index.html">Auth Middleware</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../tools/auth-middleware/oauth2.html">OAuth 2.0 Auth Middleware</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../high-level-intro.html"> high-level-intro</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../canton-refs.html">Dummy Canton Refs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../canton-refs.html#dummy-toc-refs">Dummy TOC Refs</a></li>
</ul>

          
          
          
          <div class="pdf-download"><a href="../../_downloads/DigitalAssetSDK.pdf" download>Download as PDF</a></div>
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <div class="topbar fixed">
        
        <nav class="wy-nav-top" aria-label="top navigation">
          
          <i data-toggle="wy-nav-top" class="wy-nav-top-toggle"></i>
          
        </nav>
        <!-- Copyright (c) 2023 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="navbar">
    <h1><img src="../../_static/images/Daml_Logo_Blue.svg"></h1>
    <div class="navbar-menu">
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com/developers" role="menuitem" class="da-menu-link">Developers</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com/products" role="menuitem" class="da-menu-link">Products</a>
        </div>
        <div class="da-menu-item da-menu-depth-1" role="menu">
            <a href="https://www.digitalasset.com" role="menuitem" class="da-menu-link">Company</a>
        </div>
    </div>
</div>

        <div class="version ">
          <span class="hide-mobile">Version&nbsp;</span><span class="version_switcher_placeholder"></span>
          
        </div>


        <!-- Copyright (c) 2023 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->
<div class="search-inline">
    <div id="rtd-search-inline-form" class="wy-form">
        <input type="text" class="search-inline-input" placeholder="Search" name="q">
        <img src="../../_static/images/Search.svg" class="search-inline-img"/>
    </div>
    <div class="search-alert">
        Please enter at least 3 letters.
    </div>
    <div id="search-inline-results" class="search-inline-results">
        
    </div>
</div>
          <!-- Copyright (c) 2023 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<div class="content-menu collapsed">
    <span class="content-menu-title">In This Section</span>
    <span class="content-menu-expand"></span>
    <div class="content-menu-wrapper">
        
        <!-- Local TOC -->
        <div class="content-menu-toc"><ul>
<li><a class="reference internal" href="#">Daml Interfaces</a><ul>
<li><a class="reference internal" href="#context">Context</a></li>
<li><a class="reference internal" href="#interface-definition">Interface Definition</a></li>
<li><a class="reference internal" href="#interface-instances">Interface Instances</a></li>
<li><a class="reference internal" href="#using-an-interface">Using an Interface</a></li>
</ul>
</li>
</ul>
</div>
        
    </div>
</div>
        

      </div>
      <div class="wy-nav-content">
        
        <div class="rst-content">
          
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div itemprop="articleBody">
                
  <div class="section" id="daml-interfaces">
<h1>Daml Interfaces<a class="headerlink" href="#daml-interfaces" title="Permalink to this heading">¶</a></h1>
<p>After defining a few templates in Daml, you’ve probably found yourself repeating
some behaviors between them. For instance, many templates have a notion of
ownership where a party is designated as the “owner” of the contract, and this
party has the power to transfer ownership of the contract to a different party
(subject to that party agreeing to the transfer!). Daml Interfaces provide a
way to abstract those behaviors into a Daml type.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">Remember that you can load all the code for this section into a folder called
<code class="docutils literal notranslate"><span class="pre">intro13</span></code> by running <code class="docutils literal notranslate"><span class="pre">daml</span> <span class="pre">new</span> <span class="pre">intro13</span> <span class="pre">--template</span> <span class="pre">daml-intro-13</span></code></p>
</div>
<div class="section" id="context">
<h2>Context<a class="headerlink" href="#context" title="Permalink to this heading">¶</a></h2>
<p>First, define some templates:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="kr">template</span><span class="w"> </span><span class="kt">Cash</span><span class="w"></span>
<span class="w">  </span><span class="kr">with</span><span class="w"></span>
<span class="w">    </span><span class="n">issuer</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Party</span><span class="w"></span>
<span class="w">    </span><span class="n">owner</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Party</span><span class="w"></span>
<span class="w">    </span><span class="n">currency</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Text</span><span class="w"></span>
<span class="w">    </span><span class="n">amount</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Decimal</span><span class="w"></span>
<span class="w">  </span><span class="kr">where</span><span class="w"></span>
<span class="w">    </span><span class="kr">signatory</span><span class="w"> </span><span class="n">issuer</span><span class="p">,</span><span class="w"> </span><span class="n">owner</span><span class="w"></span>
<span class="w">    </span><span class="kr">ensure</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0.0</span><span class="w"></span>

<span class="w">    </span><span class="kr">choice</span><span class="w"> </span><span class="kt">ProposeCashTransfer</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">ContractId</span><span class="w"> </span><span class="kt">CashTransferProposal</span><span class="w"></span>
<span class="w">      </span><span class="kr">with</span><span class="w"> </span><span class="n">newOwner</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Party</span><span class="w"></span>
<span class="w">      </span><span class="kr">controller</span><span class="w"> </span><span class="n">owner</span><span class="w"></span>
<span class="w">      </span><span class="kr">do</span><span class="w"></span>
<span class="w">        </span><span class="n">create</span><span class="w"> </span><span class="kt">CashTransferProposal</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">          </span><span class="n">cash</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">this</span><span class="w"></span>
<span class="w">          </span><span class="n">newOwner</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">newOwner</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="kr">template</span><span class="w"> </span><span class="kt">CashTransferProposal</span><span class="w"></span>
<span class="w">  </span><span class="kr">with</span><span class="w"></span>
<span class="w">    </span><span class="n">cash</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Cash</span><span class="w"></span>
<span class="w">    </span><span class="n">newOwner</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Party</span><span class="w"></span>
<span class="w">  </span><span class="kr">where</span><span class="w"></span>
<span class="w">    </span><span class="kr">signatory</span><span class="w"> </span><span class="p">(</span><span class="kr">signatory</span><span class="w"> </span><span class="n">cash</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="kr">observer</span><span class="w"> </span><span class="n">newOwner</span><span class="w"></span>

<span class="w">    </span><span class="kr">choice</span><span class="w"> </span><span class="kt">AcceptCashTransferProposal</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">ContractId</span><span class="w"> </span><span class="kt">Cash</span><span class="w"></span>
<span class="w">      </span><span class="kr">controller</span><span class="w"> </span><span class="n">newOwner</span><span class="w"></span>
<span class="w">      </span><span class="kr">do</span><span class="w"></span>
<span class="w">        </span><span class="n">create</span><span class="w"> </span><span class="n">cash</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">          </span><span class="n">owner</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">newOwner</span><span class="w"></span>

<span class="w">    </span><span class="c1">-- Note that RejectCashTransferProposal and WithdrawCashTransferProposal are</span><span class="w"></span>
<span class="w">    </span><span class="c1">-- almost identical except for the controller - the &quot;recipient&quot; (the new</span><span class="w"></span>
<span class="w">    </span><span class="c1">-- owner) can reject the proposal, while the &quot;sender&quot; (the old owner) can</span><span class="w"></span>
<span class="w">    </span><span class="c1">-- withdraw the proposal if the recipient hasn&#39;t accepted it already. The</span><span class="w"></span>
<span class="w">    </span><span class="c1">-- effect in either case is the same: the CashTransferProposal contract is</span><span class="w"></span>
<span class="w">    </span><span class="c1">-- archived and a new Cash contract is created with the same contents as the</span><span class="w"></span>
<span class="w">    </span><span class="c1">-- original, but with a new ContractId on the ledger.</span><span class="w"></span>
<span class="w">    </span><span class="kr">choice</span><span class="w"> </span><span class="kt">RejectCashTransferProposal</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">ContractId</span><span class="w"> </span><span class="kt">Cash</span><span class="w"></span>
<span class="w">      </span><span class="kr">controller</span><span class="w"> </span><span class="n">newOwner</span><span class="w"></span>
<span class="w">      </span><span class="kr">do</span><span class="w"></span>
<span class="w">        </span><span class="n">create</span><span class="w"> </span><span class="n">cash</span><span class="w"></span>

<span class="w">    </span><span class="kr">choice</span><span class="w"> </span><span class="kt">WithdrawCashTransferProposal</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">ContractId</span><span class="w"> </span><span class="kt">Cash</span><span class="w"></span>
<span class="w">      </span><span class="kr">controller</span><span class="w"> </span><span class="n">cash</span><span class="o">.</span><span class="n">owner</span><span class="w"></span>
<span class="w">      </span><span class="kr">do</span><span class="w"></span>
<span class="w">        </span><span class="n">create</span><span class="w"> </span><span class="n">cash</span><span class="w"></span>
</pre></div>
</div>
<p>These declarations from <code class="docutils literal notranslate"><span class="pre">intro13/daml/Cash.daml</span></code> define <code class="docutils literal notranslate"><span class="pre">Cash</span></code> as a simple
template with an issuer, an owner, a currency, and an amount. A <code class="docutils literal notranslate"><span class="pre">Cash</span></code>
contract grants its <code class="docutils literal notranslate"><span class="pre">owner</span></code> the choice <code class="docutils literal notranslate"><span class="pre">ProposeCashTransfer</span></code>, which allows
the owner to propose another party, the <code class="docutils literal notranslate"><span class="pre">newOwner</span></code>, to take over ownership of
the asset.</p>
<p>This is mediated by the <code class="docutils literal notranslate"><span class="pre">CashTransferProposal</span></code> template, which grants two
choices to the new owner: <code class="docutils literal notranslate"><span class="pre">AcceptCashTransferProposal</span></code> and
<code class="docutils literal notranslate"><span class="pre">RejectCashTransferProposal</span></code>, each of which archives the
<code class="docutils literal notranslate"><span class="pre">CashTransferProposal</span></code> and creates a new <code class="docutils literal notranslate"><span class="pre">Cash</span></code> contract; in the former case
the <code class="docutils literal notranslate"><span class="pre">owner</span></code> of the new <code class="docutils literal notranslate"><span class="pre">Cash</span></code> will be <code class="docutils literal notranslate"><span class="pre">newOwner</span></code>, in the latter, it will
be the existing <code class="docutils literal notranslate"><span class="pre">owner</span></code>. Finally, the existing <code class="docutils literal notranslate"><span class="pre">owner</span></code> also has the choice
<code class="docutils literal notranslate"><span class="pre">WithdrawCashTransferProposal</span></code>, which archives the proposal and creates a new
<code class="docutils literal notranslate"><span class="pre">Cash</span></code> contract with identical contents to the original one.</p>
<p>Overall, the effect is that a <code class="docutils literal notranslate"><span class="pre">Cash</span></code> contract can be transferred to another
party, if they agree, in two steps.</p>
<p>The declarations from <code class="docutils literal notranslate"><span class="pre">intro13/daml/NFT.daml</span></code> declare the templates <code class="docutils literal notranslate"><span class="pre">NFT</span></code>
and <code class="docutils literal notranslate"><span class="pre">NFTTransferProposal</span></code> following the same pattern, with names changed where
appropriate, with the main difference being that an <code class="docutils literal notranslate"><span class="pre">NFT</span></code> has a <code class="docutils literal notranslate"><span class="pre">url</span> <span class="pre">:</span> <span class="pre">Text</span></code>
field whereas <code class="docutils literal notranslate"><span class="pre">Cash</span></code> has <code class="docutils literal notranslate"><span class="pre">currency</span> <span class="pre">:</span> <span class="pre">Text</span></code> and <code class="docutils literal notranslate"><span class="pre">amount</span> <span class="pre">:</span> <span class="pre">Decimal</span></code>.</p>
</div>
<div class="section" id="interface-definition">
<h2>Interface Definition<a class="headerlink" href="#interface-definition" title="Permalink to this heading">¶</a></h2>
<p>To abstract this behavior, you will next introduce two interfaces: <code class="docutils literal notranslate"><span class="pre">IAsset</span></code> and
<code class="docutils literal notranslate"><span class="pre">IAssetTransferProposal</span></code>.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">It is not mandatory to prefix interface names with the letter <code class="docutils literal notranslate"><span class="pre">I</span></code>, but it
can be convenient to tell at a glance whether or not a type is an interface.</p>
</div>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="kr">interface</span><span class="w"> </span><span class="kt">IAsset</span><span class="w"></span>
<span class="w">  </span><span class="kr">where</span><span class="w"></span>
<span class="w">    </span><span class="kr">viewtype</span><span class="w"> </span><span class="kt">VAsset</span><span class="w"></span>

<span class="w">    </span><span class="n">setOwner</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Party</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">IAsset</span><span class="w"></span>
<span class="w">    </span><span class="n">toTransferProposal</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Party</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">IAssetTransferProposal</span><span class="w"></span>

<span class="w">    </span><span class="kr">choice</span><span class="w"> </span><span class="kt">ProposeIAssetTransfer</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">ContractId</span><span class="w"> </span><span class="kt">IAssetTransferProposal</span><span class="w"></span>
<span class="w">      </span><span class="kr">with</span><span class="w"> </span><span class="n">newOwner</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Party</span><span class="w"></span>
<span class="w">      </span><span class="kr">controller</span><span class="w"> </span><span class="p">(</span><span class="n">view</span><span class="w"> </span><span class="kr">this</span><span class="p">)</span><span class="o">.</span><span class="n">owner</span><span class="w"></span>
<span class="w">      </span><span class="kr">do</span><span class="w"></span>
<span class="w">        </span><span class="n">create</span><span class="w"> </span><span class="p">(</span><span class="n">toTransferProposal</span><span class="w"> </span><span class="kr">this</span><span class="w"> </span><span class="n">newOwner</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="kr">interface</span><span class="w"> </span><span class="kt">IAssetTransferProposal</span><span class="w"></span>
<span class="w">  </span><span class="kr">where</span><span class="w"></span>
<span class="w">    </span><span class="kr">viewtype</span><span class="w"> </span><span class="kt">VAssetTransferProposal</span><span class="w"></span>

<span class="w">    </span><span class="n">asset</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">IAsset</span><span class="w"></span>

<span class="w">    </span><span class="kr">choice</span><span class="w"> </span><span class="kt">AcceptIAssetTransferProposal</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">ContractId</span><span class="w"> </span><span class="kt">IAsset</span><span class="w"></span>
<span class="w">      </span><span class="kr">controller</span><span class="w"> </span><span class="p">(</span><span class="n">view</span><span class="w"> </span><span class="kr">this</span><span class="p">)</span><span class="o">.</span><span class="n">newOwner</span><span class="w"></span>
<span class="w">      </span><span class="kr">do</span><span class="w"></span>
<span class="w">        </span><span class="n">create</span><span class="w"> </span><span class="o">$</span><span class="w"> </span><span class="n">setOwner</span><span class="w"> </span><span class="p">(</span><span class="n">asset</span><span class="w"> </span><span class="kr">this</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">view</span><span class="w"> </span><span class="kr">this</span><span class="p">)</span><span class="o">.</span><span class="n">newOwner</span><span class="w"></span>

<span class="w">    </span><span class="kr">choice</span><span class="w"> </span><span class="kt">RejectIAssetTransferProposal</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">ContractId</span><span class="w"> </span><span class="kt">IAsset</span><span class="w"></span>
<span class="w">      </span><span class="kr">controller</span><span class="w"> </span><span class="p">(</span><span class="n">view</span><span class="w"> </span><span class="kr">this</span><span class="p">)</span><span class="o">.</span><span class="n">newOwner</span><span class="w"></span>
<span class="w">      </span><span class="kr">do</span><span class="w"></span>
<span class="w">        </span><span class="n">create</span><span class="w"> </span><span class="p">(</span><span class="n">asset</span><span class="w"> </span><span class="kr">this</span><span class="p">)</span><span class="w"></span>

<span class="w">    </span><span class="kr">choice</span><span class="w"> </span><span class="kt">WithdrawIAssetTransferProposal</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">ContractId</span><span class="w"> </span><span class="kt">IAsset</span><span class="w"></span>
<span class="w">      </span><span class="kr">controller</span><span class="w"> </span><span class="p">(</span><span class="n">view</span><span class="w"> </span><span class="p">(</span><span class="n">asset</span><span class="w"> </span><span class="kr">this</span><span class="p">))</span><span class="o">.</span><span class="n">owner</span><span class="w"></span>
<span class="w">      </span><span class="kr">do</span><span class="w"></span>
<span class="w">        </span><span class="n">create</span><span class="w"> </span><span class="p">(</span><span class="n">asset</span><span class="w"> </span><span class="kr">this</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>There are a few things happening here:</p>
<ol class="arabic">
<li><p class="first">For each interface, you have defined a <code class="docutils literal notranslate"><span class="pre">viewtype</span></code>. This is mandatory for
all interfaces. All viewtypes must be serializable records. The viewtype
abstracts the read side by providing a uniform way in which implementations
of <code class="docutils literal notranslate"><span class="pre">IAsset</span></code> are represented on the Ledger API. This declaration means that the
special <code class="docutils literal notranslate"><span class="pre">view</span></code> method, when applied to a value of this interface, will
return the specified type (in this case <code class="docutils literal notranslate"><span class="pre">VAsset</span></code>). This is the definition
of <code class="docutils literal notranslate"><span class="pre">VAsset</span></code>:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="kr">data</span><span class="w"> </span><span class="kt">VAsset</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">VAsset</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">    </span><span class="n">issuer</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Party</span><span class="w"></span>
<span class="w">    </span><span class="n">owner</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Party</span><span class="w"></span>
<span class="w">    </span><span class="n">description</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Text</span><span class="w"></span>
<span class="w">  </span><span class="kr">deriving</span><span class="w"> </span><span class="p">(</span><span class="kt">Eq</span><span class="p">,</span><span class="w"> </span><span class="kt">Ord</span><span class="p">,</span><span class="w"> </span><span class="kt">Show</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">See <a class="reference internal" href="../reference/templates.html#daml-ref-serializable-types"><span class="std std-ref">Serializable Types</span></a> for more information on
serializability requirements.</p>
</div>
</li>
<li><p class="first">You have defined the methods <code class="docutils literal notranslate"><span class="pre">setOwner</span></code> and <code class="docutils literal notranslate"><span class="pre">toTransferProposal</span></code> as part
of the <code class="docutils literal notranslate"><span class="pre">IAsset</span></code> interface, and method <code class="docutils literal notranslate"><span class="pre">asset</span></code> as part of the
<code class="docutils literal notranslate"><span class="pre">IAssetTransferProposal</span></code> interface. Later, when you provide instances of
these interfaces, you will see that it is mandatory to implement each of these
methods.</p>
</li>
<li><p class="first">You have defined the choice <code class="docutils literal notranslate"><span class="pre">ProposeIAssetTransfer</span></code> as part of the
<code class="docutils literal notranslate"><span class="pre">IAsset</span></code> interface, and the choices <code class="docutils literal notranslate"><span class="pre">AcceptIAssetTransferProposal</span></code>,
<code class="docutils literal notranslate"><span class="pre">RejectIAssetTransferProposal</span></code> and <code class="docutils literal notranslate"><span class="pre">WithdrawIAssetTransferProposal</span></code> as
part of the <code class="docutils literal notranslate"><span class="pre">IAssetTransferProposal</span></code> interface. These correspond one-to-one
with the choices of <code class="docutils literal notranslate"><span class="pre">Cash</span></code> / <code class="docutils literal notranslate"><span class="pre">CashTransferProposal</span></code> and <code class="docutils literal notranslate"><span class="pre">NFT</span></code> /
<code class="docutils literal notranslate"><span class="pre">NFTTransferProposal</span></code>.</p>
<p>Notice that the choice controller and the choice body are defined
in terms of the methods that you bundled with the interfaces, including the
special <code class="docutils literal notranslate"><span class="pre">view</span></code> method. For example, the controller of
<code class="docutils literal notranslate"><span class="pre">choice</span> <span class="pre">ProposeIAssetTransfer</span></code> is <code class="docutils literal notranslate"><span class="pre">(view</span> <span class="pre">this).owner</span></code>, that is, it’s the
<code class="docutils literal notranslate"><span class="pre">owner</span></code> field of the <code class="docutils literal notranslate"><span class="pre">view</span></code> for the implicit current contract <code class="docutils literal notranslate"><span class="pre">this</span></code>,
in other words, the owner of the current contract. The body of this choice is
<code class="docutils literal notranslate"><span class="pre">create</span> <span class="pre">(toTransferProposal</span> <span class="pre">this</span> <span class="pre">newOwner)</span></code>, so it creates a new contract
whose contents are the result of applying the <code class="docutils literal notranslate"><span class="pre">toTransferProposal</span></code> method
to the current contract and the <code class="docutils literal notranslate"><span class="pre">newOwner</span></code> field of the choice argument.</p>
</li>
</ol>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">For a detailed explanation of the syntax used here, check out <a class="reference internal" href="../reference/interfaces.html#daml-ref-interfaces"><span class="std std-ref">Reference: Interfaces</span></a></p>
</div>
</div>
<div class="section" id="interface-instances">
<h2>Interface Instances<a class="headerlink" href="#interface-instances" title="Permalink to this heading">¶</a></h2>
<p>On its own, an interface isn’t very useful, since all contracts on the ledger
must belong to some template type. In order to make the link between an
interface and a template, you must define an interface instance inside the body of
either the template or the interface. In this example, add:
<code class="docutils literal notranslate"><span class="pre">interface</span> <span class="pre">instance</span> <span class="pre">IAsset</span> <span class="pre">for</span> <span class="pre">Cash</span></code> and
<code class="docutils literal notranslate"><span class="pre">interface</span> <span class="pre">instance</span> <span class="pre">IAssetTransferProposal</span> <span class="pre">for</span> <span class="pre">CashTransferProposal</span></code>:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kr">interface</span><span class="w"> </span><span class="kr">instance</span><span class="w"> </span><span class="kt">IAsset</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="kt">Cash</span><span class="w"> </span><span class="kr">where</span><span class="w"></span>
<span class="w">      </span><span class="n">view</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">VAsset</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">        </span><span class="n">issuer</span><span class="w"></span>
<span class="w">        </span><span class="n">owner</span><span class="w"></span>
<span class="w">        </span><span class="n">description</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="o">@</span><span class="kt">Cash</span><span class="w"> </span><span class="kr">this</span><span class="w"></span>

<span class="w">      </span><span class="n">setOwner</span><span class="w"> </span><span class="n">newOwner</span><span class="w"> </span><span class="ow">=</span><span class="w"></span>
<span class="w">        </span><span class="n">toInterface</span><span class="w"> </span><span class="o">@</span><span class="kt">IAsset</span><span class="w"> </span><span class="o">$</span><span class="w"></span>
<span class="w">          </span><span class="kr">this</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">            </span><span class="n">owner</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">newOwner</span><span class="w"></span>

<span class="w">      </span><span class="n">toTransferProposal</span><span class="w"> </span><span class="n">newOwner</span><span class="w"> </span><span class="ow">=</span><span class="w"></span>
<span class="w">        </span><span class="n">toInterface</span><span class="w"> </span><span class="o">@</span><span class="kt">IAssetTransferProposal</span><span class="w"> </span><span class="o">$</span><span class="w"></span>
<span class="w">          </span><span class="kt">CashTransferProposal</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">            </span><span class="n">cash</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">this</span><span class="w"></span>
<span class="w">            </span><span class="n">newOwner</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kr">interface</span><span class="w"> </span><span class="kr">instance</span><span class="w"> </span><span class="kt">IAssetTransferProposal</span><span class="w"> </span><span class="kr">for</span><span class="w"> </span><span class="kt">CashTransferProposal</span><span class="w"> </span><span class="kr">where</span><span class="w"></span>
<span class="w">      </span><span class="n">view</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">VAssetTransferProposal</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">        </span><span class="n">assetView</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="p">(</span><span class="n">toInterface</span><span class="w"> </span><span class="o">@</span><span class="kt">IAsset</span><span class="w"> </span><span class="n">cash</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="n">newOwner</span><span class="w"></span>

<span class="w">      </span><span class="n">asset</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">toInterface</span><span class="w"> </span><span class="o">@</span><span class="kt">IAsset</span><span class="w"> </span><span class="n">cash</span><span class="w"></span>
</pre></div>
</div>
<p>The corresponding interface instances for <code class="docutils literal notranslate"><span class="pre">NFT</span></code> and <code class="docutils literal notranslate"><span class="pre">NFTTransferProposal</span></code>
are very similar so we omit them here.</p>
<p>Inside the interface instances, you must implement every method defined for the
corresponding interface, including the special <code class="docutils literal notranslate"><span class="pre">view</span></code> method.  Within each
method implementation the variable <code class="docutils literal notranslate"><span class="pre">this</span></code> is in scope, corresponding to the
implict current contract, which will have the type of the template (in this case
<code class="docutils literal notranslate"><span class="pre">Cash</span></code> / <code class="docutils literal notranslate"><span class="pre">CashTransferProposal</span></code>), as well as each of the fields of the
template type. For example, the <code class="docutils literal notranslate"><span class="pre">view</span></code> definition in <code class="docutils literal notranslate"><span class="pre">interface</span> <span class="pre">instance</span>
<span class="pre">IAsset</span> <span class="pre">for</span> <span class="pre">Cash</span></code> mentions <code class="docutils literal notranslate"><span class="pre">issuer</span></code> and <code class="docutils literal notranslate"><span class="pre">owner</span></code>, which refer to the issuer
and owner of the current <code class="docutils literal notranslate"><span class="pre">Cash</span></code> contract, as well as <code class="docutils literal notranslate"><span class="pre">this</span></code>, which refers to
the entire <code class="docutils literal notranslate"><span class="pre">Cash</span></code> contract payload.</p>
<p>The implementations given for each method must match the types given in the
interface definition. Notice that the <code class="docutils literal notranslate"><span class="pre">view</span></code> definition
discussed above returns a <code class="docutils literal notranslate"><span class="pre">VAsset</span></code>, corresponding to <code class="docutils literal notranslate"><span class="pre">IAsset</span></code>’s
<code class="docutils literal notranslate"><span class="pre">viewtype</span></code>. Similarly, <code class="docutils literal notranslate"><span class="pre">setOwner</span></code> returns an <code class="docutils literal notranslate"><span class="pre">IAsset</span></code>, and
<code class="docutils literal notranslate"><span class="pre">toTransferProposal</span></code> returns an <code class="docutils literal notranslate"><span class="pre">IAssetTransferProposal</span></code>. In these last two,
the function <code class="docutils literal notranslate"><span class="pre">toInterface</span></code> converts values from a template type
into an interface type. In <code class="docutils literal notranslate"><span class="pre">setOwner</span></code>, <code class="docutils literal notranslate"><span class="pre">toInterface</span></code> is applied to a
<code class="docutils literal notranslate"><span class="pre">Cash</span></code> value (<code class="docutils literal notranslate"><span class="pre">this</span> <span class="pre">with</span> <span class="pre">owner</span> <span class="pre">=</span> <span class="pre">newOwner</span></code>), producing an <code class="docutils literal notranslate"><span class="pre">IAsset</span></code> value;
in <code class="docutils literal notranslate"><span class="pre">toTransferProposal</span></code>, it is applied to a <code class="docutils literal notranslate"><span class="pre">CashTransferProposal</span></code> value
(<code class="docutils literal notranslate"><span class="pre">CashTransferProposal</span> <span class="pre">with</span> <span class="pre">{...}</span></code>), producing an <code class="docutils literal notranslate"><span class="pre">IAssetTransferProposal</span></code>
value.</p>
</div>
<div class="section" id="using-an-interface">
<h2>Using an Interface<a class="headerlink" href="#using-an-interface" title="Permalink to this heading">¶</a></h2>
<p>Now that you have some interfaces and templates with instances for them, you can
reduce duplication in the code for different templates by instead going through
the common interface.</p>
<p>For instance, both <code class="docutils literal notranslate"><span class="pre">Cash</span></code> and <code class="docutils literal notranslate"><span class="pre">NFT</span></code> are <code class="docutils literal notranslate"><span class="pre">Asset</span></code>s, which means that
contracts of either template have an owner who can propose to transfer the
contract to a third party. Thus, you can use Daml Script (see
<a class="reference internal" href="2_DamlScript.html#testing-using-script"><span class="std std-ref">Test Templates Using Daml Script</span></a>) to test that the same contract can be created by
<code class="docutils literal notranslate"><span class="pre">Alice</span></code> and successively transfered to <code class="docutils literal notranslate"><span class="pre">Bob</span></code> and then <code class="docutils literal notranslate"><span class="pre">Charlie</span></code>, who then
proposes to transfer to <code class="docutils literal notranslate"><span class="pre">Dominic</span></code>, who rejects the proposal, and finally to
<code class="docutils literal notranslate"><span class="pre">Emily</span></code> before withdrawing the proposal, so in the end the contract remains in
<code class="docutils literal notranslate"><span class="pre">Charlie</span></code>’s ownership. This procedure is tested on the <code class="docutils literal notranslate"><span class="pre">Cash</span></code> and <code class="docutils literal notranslate"><span class="pre">NFT</span></code>
templates by the Daml Script tests <code class="docutils literal notranslate"><span class="pre">cashTest</span></code> and <code class="docutils literal notranslate"><span class="pre">nftTest</span></code>, respectively,
both defined in <code class="docutils literal notranslate"><span class="pre">intro13/daml/Main.daml</span></code>.</p>
<p>But that’s a lot of duplication! <code class="docutils literal notranslate"><span class="pre">cashTest</span></code> and <code class="docutils literal notranslate"><span class="pre">nftTest</span></code> only differ in
the line that creates the original asset and in the names of the choices used.
With the new interfaces <code class="docutils literal notranslate"><span class="pre">IAsset</span></code> and <code class="docutils literal notranslate"><span class="pre">IAssetTransferProposal</span></code>, you can write
the body of this test a single time, with the name <code class="docutils literal notranslate"><span class="pre">mkAssetTest</span></code>,</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="nf">mkAssetTest</span><span class="w"> </span><span class="n">assetTxt</span><span class="w"> </span><span class="kt">Parties</span><span class="w"> </span><span class="p">{</span><span class="o">..</span><span class="p">}</span><span class="w"> </span><span class="n">mkAsset</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
</pre></div>
</div>
<p>You now have not the test itself, but rather a recipe for making the
test given some inputs - in this case, <code class="docutils literal notranslate"><span class="pre">assetTxt</span></code> (a label used for
debugging), <code class="docutils literal notranslate"><span class="pre">Parties</span> <span class="pre">{..}</span></code> (a structure containing the <code class="docutils literal notranslate"><span class="pre">Party</span></code> values for
<code class="docutils literal notranslate"><span class="pre">Alice</span></code> and friends) and finally <code class="docutils literal notranslate"><span class="pre">mkAsset</span></code> (a function that returns a
contract value of type <code class="docutils literal notranslate"><span class="pre">t</span></code> when given two <code class="docutils literal notranslate"><span class="pre">Party</span></code> arguments - the constraint
<code class="docutils literal notranslate"><span class="pre">Implements</span> <span class="pre">t</span> <span class="pre">IAsset</span></code> means that <code class="docutils literal notranslate"><span class="pre">t</span></code> must be some template with an interface
instance for <code class="docutils literal notranslate"><span class="pre">IAsset</span></code>).</p>
<p>Before looking at the body of <code class="docutils literal notranslate"><span class="pre">mkAssetTest</span></code>, notice how you use it to define
the new tests <code class="docutils literal notranslate"><span class="pre">cashAssetTest</span></code> and <code class="docutils literal notranslate"><span class="pre">nftAssetTest</span></code>; these are almost identical
except for the label and function given in each case to <code class="docutils literal notranslate"><span class="pre">mkAssetTest</span></code>. In
effect, you have abstracted those away, so you don’t need to include those details
in the body of <code class="docutils literal notranslate"><span class="pre">mkAssetTest</span></code>:</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="nf">cashAssetTest</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Script</span><span class="w"> </span><span class="p">(</span><span class="kt">ContractId</span><span class="w"> </span><span class="kt">IAsset</span><span class="p">)</span><span class="w"></span>
<span class="nf">cashAssetTest</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">  </span><span class="n">parties</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">allocateParties</span><span class="w"></span>
<span class="w">  </span><span class="n">mkAssetTest</span><span class="w"> </span><span class="s">&quot;Cash&quot;</span><span class="w"> </span><span class="n">parties</span><span class="w"> </span><span class="n">mkCash</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="nf">mkCash</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Party</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Party</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Cash</span><span class="w"></span>
<span class="nf">mkCash</span><span class="w"> </span><span class="n">issuer</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">Cash</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">  </span><span class="n">issuer</span><span class="w"></span>
<span class="w">  </span><span class="n">owner</span><span class="w"></span>
<span class="w">  </span><span class="n">currency</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;USD&quot;</span><span class="w"></span>
<span class="w">  </span><span class="n">amount</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="mf">42.0</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="nf">nftAssetTest</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Script</span><span class="w"> </span><span class="p">(</span><span class="kt">ContractId</span><span class="w"> </span><span class="kt">IAsset</span><span class="p">)</span><span class="w"></span>
<span class="nf">nftAssetTest</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">  </span><span class="n">parties</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"> </span><span class="n">allocateParties</span><span class="w"></span>
<span class="w">  </span><span class="n">mkAssetTest</span><span class="w"> </span><span class="s">&quot;NFT&quot;</span><span class="w"> </span><span class="n">parties</span><span class="w"> </span><span class="n">mkNft</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="nf">mkNft</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="kt">Party</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Party</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">NFT</span><span class="w"></span>
<span class="nf">mkNft</span><span class="w"> </span><span class="n">issuer</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kt">NFT</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">  </span><span class="n">issuer</span><span class="w"></span>
<span class="w">  </span><span class="n">owner</span><span class="w"></span>
<span class="w">  </span><span class="n">url</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="s">&quot;https://nyan.feline/&quot;</span><span class="w"></span>
</pre></div>
</div>
<p>In turn, <code class="docutils literal notranslate"><span class="pre">mkAssetTest</span></code> isn’t very different from other Daml <code class="docutils literal notranslate"><span class="pre">Script</span></code>s you
might have written before: it uses <code class="docutils literal notranslate"><span class="pre">do</span></code> notation as usual, including
<code class="docutils literal notranslate"><span class="pre">submit</span></code> blocks constructed from <code class="docutils literal notranslate"><span class="pre">Command</span></code>s that define the ordered
transactions that take place in the test. The main difference is that when
querying values of interface types you cannot use the functions <code class="docutils literal notranslate"><span class="pre">query</span></code> and
<code class="docutils literal notranslate"><span class="pre">queryContractId</span></code>; instead you must use <code class="docutils literal notranslate"><span class="pre">queryInterface</span></code> (for obtaining the
set of visible active contracts of a given interface type) and
<code class="docutils literal notranslate"><span class="pre">queryInterfaceContractId</span></code> (for obtaining a single contract given its
<code class="docutils literal notranslate"><span class="pre">ContractId</span></code>). Importantly, these functions return the <em>view</em> of the contract
corresponding to the used interface, rather than the contract record itself.
This is because the ledger might contain contracts of template types that you
don’t know about but that do implement our interface, so the view is the only
sensible thing that can be returned by the ledger.</p>
<p>Also note that immediately after creating the asset with <code class="docutils literal notranslate"><span class="pre">createCmd</span></code>, you convert
the resulting <code class="docutils literal notranslate"><span class="pre">ContractId</span> <span class="pre">t</span></code> into a <code class="docutils literal notranslate"><span class="pre">ContractId</span> <span class="pre">IAsset</span></code> using
<code class="docutils literal notranslate"><span class="pre">toInterfaceContractId</span></code>, which allows you to exercise <code class="docutils literal notranslate"><span class="pre">IAsset</span></code> choices on it.</p>
<div class="highlight-daml notranslate"><div class="highlight"><pre><span></span><span class="nf">mkAssetTest</span><span class="w"> </span><span class="kt">:</span><span class="w"> </span><span class="n">forall</span><span class="w"> </span><span class="n">t</span><span class="o">.</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="kt">Template</span><span class="w"> </span><span class="n">t</span><span class="p">,</span><span class="w"> </span><span class="kt">Implements</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="kt">IAsset</span><span class="p">,</span><span class="w"> </span><span class="kt">HasAgreement</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"></span>
<span class="w">  </span><span class="kt">Text</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Parties</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="kt">Party</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Party</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="ow">-&gt;</span><span class="w"> </span><span class="kt">Script</span><span class="w"> </span><span class="p">(</span><span class="kt">ContractId</span><span class="w"> </span><span class="kt">IAsset</span><span class="p">)</span><span class="w"></span>
<span class="nf">mkAssetTest</span><span class="w"> </span><span class="n">assetTxt</span><span class="w"> </span><span class="kt">Parties</span><span class="w"> </span><span class="p">{</span><span class="o">..</span><span class="p">}</span><span class="w"> </span><span class="n">mkAsset</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">  </span><span class="n">aliceAsset</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"></span>
<span class="w">    </span><span class="n">alice</span><span class="w"> </span><span class="p">`</span><span class="n">submit</span><span class="p">`</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">      </span><span class="n">toInterfaceContractId</span><span class="w"> </span><span class="o">@</span><span class="kt">IAsset</span><span class="w"> </span><span class="o">&lt;$&gt;</span><span class="w"></span>
<span class="w">        </span><span class="n">createCmd</span><span class="w"> </span><span class="p">(</span><span class="n">mkAsset</span><span class="w"> </span><span class="n">alice</span><span class="w"> </span><span class="n">alice</span><span class="p">)</span><span class="w"></span>

<span class="w">  </span><span class="n">aliceAssetView</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"></span>
<span class="w">    </span><span class="n">queryInterfaceContractId</span><span class="w"> </span><span class="o">@</span><span class="kt">IAsset</span><span class="w"> </span><span class="n">alice</span><span class="w"> </span><span class="n">aliceAsset</span><span class="w"></span>

<span class="w">  </span><span class="n">debugRaw</span><span class="w"> </span><span class="o">$</span><span class="w"> </span><span class="n">unlines</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="w"> </span><span class="s">&quot;Alice&#39;s Asset (&quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">assetTxt</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">&quot;):&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">ContractId: &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="n">aliceAsset</span><span class="w"></span>
<span class="w">    </span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">Value: &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="n">aliceAssetView</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>

<span class="w">  </span><span class="n">bobAssetTransferProposal</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"></span>
<span class="w">    </span><span class="n">alice</span><span class="w"> </span><span class="p">`</span><span class="n">submit</span><span class="p">`</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">      </span><span class="n">exerciseCmd</span><span class="w"> </span><span class="n">aliceAsset</span><span class="w"> </span><span class="kt">ProposeIAssetTransfer</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">        </span><span class="n">newOwner</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">bob</span><span class="w"></span>

<span class="w">  </span><span class="n">bobAsset</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"></span>
<span class="w">    </span><span class="n">bob</span><span class="w"> </span><span class="p">`</span><span class="n">submit</span><span class="p">`</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">      </span><span class="n">exerciseCmd</span><span class="w"> </span><span class="n">bobAssetTransferProposal</span><span class="w"> </span><span class="kt">AcceptIAssetTransferProposal</span><span class="w"></span>

<span class="w">  </span><span class="n">charlieAssetTransferProposal</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"></span>
<span class="w">    </span><span class="n">bob</span><span class="w"> </span><span class="p">`</span><span class="n">submit</span><span class="p">`</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">      </span><span class="n">exerciseCmd</span><span class="w"> </span><span class="n">bobAsset</span><span class="w"> </span><span class="kt">ProposeIAssetTransfer</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">        </span><span class="n">newOwner</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">charlie</span><span class="w"></span>

<span class="w">  </span><span class="n">charlieAsset</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"></span>
<span class="w">    </span><span class="n">charlie</span><span class="w"> </span><span class="p">`</span><span class="n">submit</span><span class="p">`</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">      </span><span class="n">exerciseCmd</span><span class="w"> </span><span class="n">charlieAssetTransferProposal</span><span class="w"> </span><span class="kt">AcceptIAssetTransferProposal</span><span class="w"></span>

<span class="w">  </span><span class="n">dominicAssetTransferProposal</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"></span>
<span class="w">    </span><span class="n">charlie</span><span class="w"> </span><span class="p">`</span><span class="n">submit</span><span class="p">`</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">      </span><span class="n">exerciseCmd</span><span class="w"> </span><span class="n">charlieAsset</span><span class="w"> </span><span class="kt">ProposeIAssetTransfer</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">        </span><span class="n">newOwner</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">dominic</span><span class="w"></span>

<span class="w">  </span><span class="n">charlieAsset&#39;</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"></span>
<span class="w">    </span><span class="n">dominic</span><span class="w"> </span><span class="p">`</span><span class="n">submit</span><span class="p">`</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">      </span><span class="n">exerciseCmd</span><span class="w"> </span><span class="n">dominicAssetTransferProposal</span><span class="w"> </span><span class="kt">RejectIAssetTransferProposal</span><span class="w"></span>

<span class="w">  </span><span class="n">emilyAssetTransferProposal</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"></span>
<span class="w">    </span><span class="n">charlie</span><span class="w"> </span><span class="p">`</span><span class="n">submit</span><span class="p">`</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">      </span><span class="n">exerciseCmd</span><span class="w"> </span><span class="n">charlieAsset&#39;</span><span class="w"> </span><span class="kt">ProposeIAssetTransfer</span><span class="w"> </span><span class="kr">with</span><span class="w"></span>
<span class="w">        </span><span class="n">newOwner</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="n">emily</span><span class="w"></span>

<span class="w">  </span><span class="n">charlieAsset&#39;&#39;</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"></span>
<span class="w">    </span><span class="n">charlie</span><span class="w"> </span><span class="p">`</span><span class="n">submit</span><span class="p">`</span><span class="w"> </span><span class="kr">do</span><span class="w"></span>
<span class="w">      </span><span class="n">exerciseCmd</span><span class="w"> </span><span class="n">emilyAssetTransferProposal</span><span class="w"> </span><span class="kt">WithdrawIAssetTransferProposal</span><span class="w"></span>

<span class="w">  </span><span class="n">charlieAssetView</span><span class="w"> </span><span class="ow">&lt;-</span><span class="w"></span>
<span class="w">    </span><span class="n">queryInterfaceContractId</span><span class="w"> </span><span class="o">@</span><span class="kt">IAsset</span><span class="w"> </span><span class="n">charlie</span><span class="w"> </span><span class="n">charlieAsset&#39;&#39;</span><span class="w"></span>

<span class="w">  </span><span class="n">debugRaw</span><span class="w"> </span><span class="o">$</span><span class="w"> </span><span class="n">unlines</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="w"> </span><span class="s">&quot;Charlie&#39;s Asset (&quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">assetTxt</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s">&quot;):&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">ContractId: &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="n">charlieAsset&#39;&#39;</span><span class="w"></span>
<span class="w">    </span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">View: &quot;</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="n">show</span><span class="w"> </span><span class="n">charlieAssetView</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>

<span class="w">  </span><span class="n">charlieAssetView</span><span class="w"> </span><span class="o">===</span><span class="w"></span>
<span class="w">    </span><span class="kt">Some</span><span class="w"> </span><span class="p">(</span><span class="n">view</span><span class="w"> </span><span class="p">(</span><span class="n">toInterface</span><span class="w"> </span><span class="o">@</span><span class="kt">IAsset</span><span class="w"> </span><span class="p">(</span><span class="n">mkAsset</span><span class="w"> </span><span class="n">alice</span><span class="w"> </span><span class="n">charlie</span><span class="p">)))</span><span class="w"></span>

<span class="w">  </span><span class="n">pure</span><span class="w"> </span><span class="n">charlieAsset&#39;&#39;</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>


              
            </div>
            
            
              <!-- Copyright (c) 2023 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="0_Intro.html" class="da-btn da-btn-label btn-prev" title="An Introduction to Daml" accesskey="p" rel="prev">Previous</a>
      
      
        <a href="4_Transformations.html" class="da-btn da-btn-label btn-next" title="Transform Data Using Choices" accesskey="n" rel="next">Next</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        Copyright (c) 2022 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. Any unauthorized use, duplication or distribution is strictly prohibited. &#34;Digital Asset&#34; and &#34;Daml&#34; are Registered in the U.S. Patent and Trademark Office.

    </p>
  </div> 

</footer>
            
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Copyright (c) 2023 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->





  <script type="text/javascript">
    jQuery(function () {
      SphinxRtdTheme.Navigation.enable(true);
      });
  </script>


  
    
  
  <div id="inpageContent"></div>
  

</body>
</html>